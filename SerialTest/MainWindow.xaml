<Window x:Class="SerialTest.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:s="clr-namespace:System;assembly=mscorlib"
        xmlns:res="clr-namespace:ResourceLib;assembly=ResourceLib"
        Title="Serial Port Test"
        DataContext="{Binding RelativeSource={RelativeSource Self}}"
        Width="400"
        SizeToContent="Height">
    <Window.Resources>
    </Window.Resources>

    <Border Style="{DynamicResource {x:Static res:CustomResources.styBorder}}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <Label Grid.Row="0"
                   Grid.Column="0"
                   Style="{DynamicResource {x:Static res:CustomResources.styLabel}}"
                   Content="Ports" />
            <ListBox Style="{DynamicResource {x:Static res:CustomResources.styListBox}}"
                     ItemContainerStyle="{DynamicResource {x:Static res:CustomResources.styListBoxItem}}"
                     Grid.Row="0"
                     Grid.Column="1"
                     x:Name="lbPorts"
                     ItemsSource="{Binding Path=PortNames, Mode=OneTime}"
                     SelectionMode="Extended"
                     SelectionChanged="OnSelectionChanged" />
            <Button x:Name="btnStart"
                    Grid.Row="1"
                    Grid.Column="1"
                    Style="{DynamicResource {x:Static res:CustomResources.styButton}}"
                    Content="Start"
                    HorizontalAlignment="Center"
                    IsEnabled="False"
                    Click="OnClick" />
            <Label Grid.Row="2"
                   Grid.Column="0"
                   Style="{DynamicResource {x:Static res:CustomResources.styLabel}}"
                   Content="Tx" />
            <Border Grid.Row="2"
                    Grid.Column="1"
                    Style="{DynamicResource {x:Static res:CustomResources.styBorder}}"
                    BorderThickness="1">
                <TextBlock Style="{DynamicResource {x:Static res:CustomResources.styTextBlock}}"
                           Text="{Binding Path=TxMessage, Mode=OneWay}" />
            </Border>
            <Label Grid.Row="3"
                   Grid.Column="0"
                   Style="{DynamicResource {x:Static res:CustomResources.styLabel}}"
                   Content="Rx" />
            <Border Grid.Row="3"
                    Grid.Column="1"
                    Style="{DynamicResource {x:Static res:CustomResources.styBorder}}"
                    BorderThickness="1">
                <TextBlock Style="{DynamicResource {x:Static res:CustomResources.styTextBlock}}"
                           Text="{Binding Path=RxMessage, Mode=OneWay}" />
            </Border>
        </Grid>
    </Border>
</Window>
