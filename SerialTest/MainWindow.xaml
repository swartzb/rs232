<Window x:Class="SerialTest.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:s="clr-namespace:System;assembly=mscorlib"
        Title="Serial Port Test"
        DataContext="{Binding RelativeSource={RelativeSource Self}}"
        Width="400"
        SizeToContent="Height">
    <Window.Resources>
        <s:Double x:Key="stdVal">
            3.0
        </s:Double>
        <Thickness x:Key="stdThick"
                   Left="{StaticResource stdVal}"
                   Top="{StaticResource stdVal}"
                   Right="{StaticResource stdVal}"
                   Bottom="{StaticResource stdVal}" />
        <Style x:Key="styBrdr"
               TargetType="Border">
            <Setter Property="BorderBrush"
                    Value="Black" />
            <Setter Property="Padding"
                    Value="{StaticResource stdThick}" />
            <Setter Property="Margin"
                    Value="{StaticResource stdThick}" />
        </Style>
        <Style x:Key="styLbl"
               TargetType="Label">
            <Setter Property="Padding"
                    Value="{StaticResource stdThick}" />
            <Setter Property="Margin"
                    Value="{StaticResource stdThick}" />
            <Setter Property="HorizontalAlignment"
                    Value="Right" />
            <Setter Property="VerticalAlignment"
                    Value="Center" />
        </Style>
        <Style TargetType="ListBox">
            <Setter Property="Padding"
                    Value="{StaticResource stdThick}" />
            <Setter Property="Margin"
                    Value="{StaticResource stdThick}" />
        </Style>
        <Style TargetType="ListBoxItem">
            <Setter Property="Margin"
                    Value="{StaticResource stdThick}" />
        </Style>
        <Style TargetType="Button">
            <Setter Property="Padding"
                    Value="{StaticResource stdThick}" />
            <Setter Property="Margin"
                    Value="{StaticResource stdThick}" />
        </Style>
        <Style x:Key="styTbk"
               TargetType="TextBlock">
            <Setter Property="Padding"
                    Value="{StaticResource stdThick}" />
            <Setter Property="Margin"
                    Value="{StaticResource stdThick}" />
        </Style>
    </Window.Resources>
    <Border Style="{StaticResource styBrdr}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <Label Grid.Row="0"
                   Grid.Column="0"
                   Style="{StaticResource styLbl}"
                   Content="Ports" />
            <ListBox Grid.Row="0"
                     Grid.Column="1"
                     x:Name="lbPorts"
                     ItemsSource="{Binding Path=PortNames, Mode=OneTime}"
                     SelectionMode="Extended"
                     SelectionChanged="OnSelectionChanged" />
            <Button x:Name="btnStart"
                    Grid.Row="1"
                    Grid.Column="1"
                    Content="Start"
                    HorizontalAlignment="Center"
                    IsEnabled="False"
                    Click="OnClick" />
            <Label Grid.Row="2"
                   Grid.Column="0"
                   Style="{StaticResource styLbl}"
                   Content="Tx" />
            <Border Grid.Row="2"
                    Grid.Column="1"
                    Style="{StaticResource styBrdr}"
                    BorderThickness="1">
                <TextBlock Style="{StaticResource styTbk}"
                           Text="{Binding Path=TxMessage, Mode=OneWay}" />
            </Border>
            <Label Grid.Row="3"
                   Grid.Column="0"
                   Style="{StaticResource styLbl}"
                   Content="Rx" />
            <Border Grid.Row="3"
                    Grid.Column="1"
                    Style="{StaticResource styBrdr}"
                    BorderThickness="1">
                <TextBlock Style="{StaticResource styTbk}"
                           Text="{Binding Path=RxMessage, Mode=OneWay}" />
            </Border>
        </Grid>
    </Border>
</Window>
